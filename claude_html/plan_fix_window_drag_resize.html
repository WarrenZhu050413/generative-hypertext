<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plan: Fix Window Drag & Resize Issues</title>
    <style>
        :root {
            --chinese-red: #8B0000;
            --chinese-gold: #FFD700;
            --paper-beige: #F5F5DC;
            --light-cream: #FFFEF0;
            --ink-black: #2C2416;
            --level-1: #8B0000;
            --level-2: #CD5C5C;
            --level-3: #8B7355;
            --level-4: #666;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, var(--paper-beige) 0%, var(--light-cream) 100%);
            color: var(--ink-black);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            line-height: 1.3;
            font-size: 14px;
            padding: 12px;
        }

        h1 {
            font-size: 26px;
            font-weight: 900;
            margin: 8px 0;
            padding: 8px 4px;
            background: linear-gradient(135deg, var(--chinese-red), #CD5C5C);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        h2 {
            font-size: 20px;
            font-weight: 700;
            margin: 12px 0 6px 0;
            padding: 6px;
            border-left: 4px solid var(--chinese-red);
            background: rgba(139, 0, 0, 0.03);
            color: var(--level-1);
        }

        h3 {
            font-size: 16px;
            font-weight: 600;
            margin: 8px 0 4px 0;
            color: var(--level-2);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        h4 {
            font-size: 14px;
            font-weight: 500;
            margin: 4px 0 2px 0;
            color: var(--level-3);
        }

        .important-always-visible {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), white);
            border: 3px solid var(--chinese-gold);
            padding: 16px;
            margin: 12px 0;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .two-column-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin: 8px 0;
        }

        .full-width {
            grid-column: span 2;
        }

        .collapsible {
            margin: 8px 0;
            border: 1px solid rgba(139, 0, 0, 0.2);
            border-radius: 4px;
            overflow: hidden;
        }

        .collapsible-header {
            cursor: pointer;
            padding: 10px 12px;
            background: linear-gradient(135deg, rgba(139, 0, 0, 0.05), rgba(255, 215, 0, 0.02));
            border-left: 4px solid var(--chinese-gold);
            display: flex;
            align-items: center;
            justify-content: space-between;
            user-select: none;
            transition: all 0.2s ease;
            font-weight: 600;
        }

        .collapsible-header:hover {
            background: linear-gradient(135deg, rgba(139, 0, 0, 0.1), rgba(255, 215, 0, 0.05));
        }

        .collapsible.critical .collapsible-header {
            border-left: 5px solid var(--chinese-red);
            background: rgba(139, 0, 0, 0.08);
        }

        .collapsible.warning .collapsible-header {
            border-left: 5px solid #F57C00;
            background: rgba(245, 124, 0, 0.08);
        }

        .collapsible-header .arrow {
            display: inline-block;
            transition: transform 0.3s ease;
            color: var(--chinese-red);
            font-size: 12px;
            font-weight: bold;
        }

        .collapsible.open .arrow {
            transform: rotate(90deg);
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            padding: 0 12px;
        }

        .collapsible.open .collapsible-content {
            max-height: 5000px;
            padding: 16px;
        }

        .dense-list {
            list-style: none;
            padding: 0;
            margin: 8px 0;
        }

        .dense-list li {
            padding: 6px 0 6px 16px;
            position: relative;
            line-height: 1.5;
        }

        .dense-list li:before {
            content: "‚ñ∏";
            position: absolute;
            left: 0;
            color: var(--chinese-red);
            font-size: 12px;
        }

        .dense-list li strong {
            color: var(--level-2);
            font-weight: 600;
        }

        .indent-1 { margin-left: 16px; }
        .indent-2 { margin-left: 32px; }

        .card {
            background: white;
            border: 1px solid rgba(139, 0, 0, 0.2);
            border-radius: 4px;
            padding: 12px;
            margin: 8px 0;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
        }

        .card.bad {
            border-left: 4px solid #C62828;
            background: linear-gradient(135deg, rgba(198, 40, 40, 0.05), white);
        }

        .card.warning {
            border-left: 4px solid #F57C00;
            background: linear-gradient(135deg, rgba(245, 124, 0, 0.05), white);
        }

        .card.good {
            border-left: 4px solid #2E7D32;
            background: linear-gradient(135deg, rgba(46, 125, 50, 0.05), white);
        }

        pre, code {
            background: linear-gradient(135deg, rgba(245, 245, 220, 0.4), rgba(255, 255, 255, 0.6));
            border: 1px solid rgba(139, 0, 0, 0.15);
            padding: 4px 6px;
            margin: 4px 0;
            font-size: 13px;
            line-height: 1.4;
            font-family: 'Monaco', 'Menlo', monospace;
            border-radius: 3px;
        }

        pre {
            padding: 12px;
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 8px 0;
            font-size: 13px;
        }

        th, td {
            border: 1px solid rgba(139, 0, 0, 0.2);
            padding: 8px;
            text-align: left;
        }

        th {
            background: rgba(139, 0, 0, 0.1);
            font-weight: 600;
        }

        .metric {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            margin: 4px 4px 4px 0;
        }

        .metric.important {
            background: linear-gradient(135deg, var(--chinese-gold), #FFE55C);
            color: #5D4E00;
        }

        .metric.critical {
            background: linear-gradient(135deg, var(--chinese-red), #CD5C5C);
            color: white;
        }

        button {
            background: linear-gradient(135deg, var(--chinese-red), #CD5C5C);
            color: white;
            border: 1px solid rgba(255, 215, 0, 0.3);
            padding: 6px 12px;
            margin: 4px;
            font-size: 13px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        button:hover {
            transform: translateY(-1px);
            box-shadow: 0 3px 10px rgba(139, 0, 0, 0.3);
            border-color: var(--chinese-gold);
        }

        .controls {
            position: fixed;
            top: 12px;
            right: 12px;
            z-index: 1000;
            background: white;
            padding: 8px;
            border-radius: 6px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
        }

        .divider {
            height: 2px;
            background: linear-gradient(90deg, var(--chinese-red), transparent);
            margin: 16px 0;
        }

        .emoji {
            font-size: 20px;
            margin-right: 8px;
        }

        .status-bad {
            color: #C62828;
            font-weight: 600;
        }

        .status-good {
            color: #2E7D32;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="controls">
        <button onclick="expandAll()">Expand All</button>
        <button onclick="collapseAll()">Collapse All</button>
    </div>

    <div class="important-always-visible">
        <h1><span class="emoji">üêõ</span>Debug Plan: Fix Window Drag & Resize</h1>

        <div class="two-column-layout">
            <div>
                <h3>Reported Issues</h3>
                <ul class="dense-list">
                    <li><strong>InlineChatWindow:</strong> <span class="status-bad">Drag & resize not working</span></li>
                    <li><strong>FloatingWindow:</strong> <span class="status-bad">No visible resize handles</span></li>
                </ul>

                <h4 style="margin-top: 12px;">Success Criteria</h4>
                <ul class="dense-list">
                    <li>Both windows draggable by header</li>
                    <li>Resize handles visible and functional</li>
                    <li>Resizing works from all enabled edges/corners</li>
                    <li>Size/position persist correctly</li>
                </ul>
            </div>

            <div>
                <h3>Root Cause Hypothesis</h3>
                <div class="metric critical">Complexity: MEDIUM</div>

                <h4 style="margin-top: 12px;">Likely Issues</h4>
                <ul class="dense-list">
                    <li><strong>Bounds conflict:</strong> <code>bounds="parent"</code> may be incorrect</li>
                    <li><strong>Pointer events:</strong> Parent containers block interaction</li>
                    <li><strong>Z-index:</strong> Rnd elements rendered behind other content</li>
                    <li><strong>CSS conflicts:</strong> react-rnd styles overridden</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="divider"></div>

    <h2>üîç Issue Analysis</h2>

    <div class="two-column-layout">
        <div class="card bad">
            <h3>‚ùå InlineChatWindow Issues</h3>

            <h4>Current Implementation</h4>
            <pre><code>&lt;Rnd
  default={{...}}
  size={{...}}
  bounds="parent"  // ‚ö†Ô∏è Problem!
  dragHandleClassName="drag-handle"
  enableResizing={!collapsed && {...}}
&gt;</code></pre>

            <h4>Identified Problems</h4>
            <ol class="dense-list">
                <li><strong>Parent container has pointer-events: none</strong>
                    <div class="indent-1">Container blocks mouse events</div>
                </li>
                <li><strong>bounds="parent" references wrong element</strong>
                    <div class="indent-1">Parent is full-screen overlay, not viewport</div>
                </li>
                <li><strong>Using default prop instead of position</strong>
                    <div class="indent-1">May not work with controlled size</div>
                </li>
                <li><strong>Shadow DOM isolation</strong>
                    <div class="indent-1">react-rnd styles may not apply correctly</div>
                </li>
            </ol>
        </div>

        <div class="card bad">
            <h3>‚ùå FloatingWindow Issues</h3>

            <h4>Current Implementation</h4>
            <pre><code>&lt;Rnd
  position={{...}}
  size={{...}}
  bounds="parent"  // ‚ö†Ô∏è Problem!
  dragHandleClassName="window-header"
  enableResizing={!collapsed && {...}}
&gt;</code></pre>

            <h4>Identified Problems</h4>
            <ol class="dense-list">
                <li><strong>bounds="parent" in Canvas context</strong>
                    <div class="indent-1">Parent may be React Flow viewport</div>
                </li>
                <li><strong>Resize handles not styled/visible</strong>
                    <div class="indent-1">Default handles are nearly invisible</div>
                </li>
                <li><strong>No z-index on Rnd wrapper</strong>
                    <div class="indent-1">May render behind other elements</div>
                </li>
                <li><strong>enableResizing returns false when collapsed</strong>
                    <div class="indent-1">Should return object with all false, not false</div>
                </li>
            </ol>
        </div>
    </div>

    <div class="divider"></div>

    <div class="collapsible critical open">
        <div class="collapsible-header">
            <span>üîß Implementation Steps</span>
            <span class="arrow">‚ñ∂</span>
        </div>
        <div class="collapsible-content">
            <h3>Phase 1: Fix InlineChatWindow (Priority)</h3>

            <ol class="dense-list">
                <li><strong>Remove bounds restriction</strong>
                    <div class="indent-1">Change <code>bounds="parent"</code> to <code>bounds="window"</code></div>
                    <div class="indent-1">Or remove bounds entirely for free positioning</div>
                    <div class="indent-1">File: <code>src/components/InlineChatWindow.tsx</code></div>
                </li>

                <li><strong>Fix pointer events in parent</strong>
                    <div class="indent-1">Ensure Rnd component has <code>pointer-events: auto</code></div>
                    <div class="indent-1">Parent container already has <code>pointer-events: none</code> which is correct</div>
                </li>

                <li><strong>Use position prop instead of default</strong>
                    <div class="indent-1">Replace <code>default={{x, y, width, height}}</code></div>
                    <div class="indent-1">With <code>position={{x, y}}</code> and <code>size={{width, height}}</code></div>
                    <div class="indent-1">Store position in state for controlled mode</div>
                </li>

                <li><strong>Add onDragStop handler</strong>
                    <div class="indent-1">Update position state when drag ends</div>
                    <div class="indent-1">Prevents window from jumping back</div>
                </li>

                <li><strong>Style resize handles explicitly</strong>
                    <div class="indent-1">Add <code>resizeHandleStyles</code> prop with visible styling</div>
                </li>

                <li><strong>Fix enableResizing logic</strong>
                    <div class="indent-1">Change from <code>!collapsed && {...}</code></div>
                    <div class="indent-1">To proper object with boolean values</div>
                </li>
            </ol>

            <h3>Phase 2: Fix FloatingWindow</h3>

            <ol class="dense-list" start="7">
                <li><strong>Remove or adjust bounds</strong>
                    <div class="indent-1">Change <code>bounds="parent"</code> to <code>bounds="window"</code></div>
                    <div class="indent-1">File: <code>src/components/FloatingWindow.tsx</code></div>
                </li>

                <li><strong>Style resize handles</strong>
                    <div class="indent-1">Add visible resize handles with Chinese aesthetic</div>
                    <div class="indent-1">Use <code>resizeHandleStyles</code> and <code>resizeHandleClasses</code></div>
                </li>

                <li><strong>Fix enableResizing for collapsed state</strong>
                    <div class="indent-1">Return object with all false instead of false literal</div>
                </li>

                <li><strong>Add z-index to Rnd wrapper</strong>
                    <div class="indent-1">Ensure windows render on top</div>
                </li>
            </ol>

            <h3>Phase 3: Testing & Verification</h3>

            <ol class="dense-list" start="11">
                <li><strong>Test InlineChatWindow drag</strong>
                    <div class="indent-1">Open inline chat (Ctrl+Shift+C)</div>
                    <div class="indent-1">Drag by header - should move smoothly</div>
                </li>

                <li><strong>Test InlineChatWindow resize</strong>
                    <div class="indent-1">Resize from right edge, bottom edge, corner</div>
                    <div class="indent-1">Verify min size constraint (300√ó200px)</div>
                </li>

                <li><strong>Test FloatingWindow drag</strong>
                    <div class="indent-1">Open card chat window on Canvas</div>
                    <div class="indent-1">Drag by header - should move</div>
                </li>

                <li><strong>Test FloatingWindow resize</strong>
                    <div class="indent-1">Look for resize handles (should be visible)</div>
                    <div class="indent-1">Resize from various edges/corners</div>
                </li>

                <li><strong>Test collapsed state</strong>
                    <div class="indent-1">Collapse window - resize should disable</div>
                    <div class="indent-1">Expand window - resize should re-enable</div>
                </li>
            </ol>
        </div>
    </div>

    <div class="divider"></div>

    <div class="two-column-layout">
        <div class="collapsible critical open">
            <div class="collapsible-header">
                <span>üíª Code Changes: InlineChatWindow</span>
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="collapsible-content">
                <h4>1. Add position state</h4>
                <pre><code>const [windowPosition, setWindowPosition] = useState({
  x: defaultPosition.x,
  y: defaultPosition.y
});</code></pre>

                <h4>2. Update Rnd props</h4>
                <pre><code>&lt;Rnd
  position={windowPosition}  // ‚úÖ Controlled
  size={{
    width: windowSize.width,
    height: collapsed ? 40 : windowSize.height
  }}
  onDragStop={(_e, data) => {
    setWindowPosition({ x: data.x, y: data.y });
  }}
  onResizeStop={(_e, _dir, ref, _delta, position) => {
    setWindowSize({
      width: parseInt(ref.style.width),
      height: parseInt(ref.style.height)
    });
    setWindowPosition({ x: position.x, y: position.y });
  }}
  minWidth={300}
  minHeight={200}
  bounds="window"  // ‚úÖ Fixed
  dragHandleClassName="drag-handle"
  enableResizing={collapsed ? {
    bottom: false,
    bottomRight: false,
    bottomLeft: false,
    right: false,
    left: false,
    top: false,
    topRight: false,
    topLeft: false
  } : {
    bottom: true,
    bottomRight: true,
    bottomLeft: true,
    right: true,
    left: true,
    top: false,
    topRight: false,
    topLeft: false
  }}
  resizeHandleStyles={{
    bottom: { height: '8px', cursor: 'ns-resize' },
    right: { width: '8px', cursor: 'ew-resize' },
    bottomRight: { width: '12px', height: '12px', cursor: 'nwse-resize' },
    bottomLeft: { width: '12px', height: '12px', cursor: 'nesw-resize' },
    left: { width: '8px', cursor: 'ew-resize' }
  }}
  resizeHandleClasses={{
    bottom: 'resize-handle-bottom',
    right: 'resize-handle-right',
    bottomRight: 'resize-handle-corner',
    bottomLeft: 'resize-handle-corner',
    left: 'resize-handle-left'
  }}
&gt;</code></pre>

                <h4>3. Add resize handle styles</h4>
                <pre><code>// Add to Shadow DOM styles or containerStyles
.resize-handle-bottom,
.resize-handle-right,
.resize-handle-left {
  background: rgba(139, 0, 0, 0.3);
}

.resize-handle-corner {
  background: linear-gradient(135deg, #8B0000, #FFD700);
  border-radius: 50%;
}</code></pre>
            </div>
        </div>

        <div class="collapsible critical open">
            <div class="collapsible-header">
                <span>üíª Code Changes: FloatingWindow</span>
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="collapsible-content">
                <h4>1. Update Rnd props</h4>
                <pre><code>&lt;Rnd
  position={{ x: windowState.position.x, y: windowState.position.y }}
  size={{
    width: windowState.size.width,
    height: windowState.collapsed ? 40 : windowState.size.height
  }}
  onDragStop={(_e, data) => handleDragStop(_e, data)}
  onResizeStop={handleResizeStop}
  minWidth={300}
  minHeight={200}
  bounds="window"  // ‚úÖ Fixed
  dragHandleClassName="window-header"
  enableResizing={windowState.collapsed ? {
    bottom: false,
    bottomRight: false,
    bottomLeft: false,
    right: false,
    left: false,
    top: false,
    topRight: false,
    topLeft: false
  } : {
    bottom: true,
    bottomRight: true,
    bottomLeft: true,
    right: true,
    left: true,
    top: false,
    topRight: false,
    topLeft: false
  }}
  resizeHandleStyles={{
    bottom: { height: '8px', cursor: 'ns-resize' },
    right: { width: '8px', cursor: 'ew-resize' },
    bottomRight: { width: '12px', height: '12px', cursor: 'nwse-resize' },
    bottomLeft: { width: '12px', height: '12px', cursor: 'nesw-resize' },
    left: { width: '8px', cursor: 'ew-resize' }
  }}
  resizeHandleClasses={{
    bottom: 'rnd-resize-bottom',
    right: 'rnd-resize-right',
    bottomRight: 'rnd-resize-corner',
    bottomLeft: 'rnd-resize-corner',
    left: 'rnd-resize-left'
  }}
  style={{ zIndex: windowState.zIndex }}
&gt;</code></pre>

                <h4>2. Add global CSS for handles</h4>
                <pre><code>// Add to Canvas global styles or create CSS file
.rnd-resize-bottom,
.rnd-resize-right,
.rnd-resize-left {
  background: rgba(139, 0, 0, 0.3);
  transition: background 0.2s ease;
}

.rnd-resize-bottom:hover,
.rnd-resize-right:hover,
.rnd-resize-left:hover {
  background: rgba(139, 0, 0, 0.6);
}

.rnd-resize-corner {
  background: linear-gradient(135deg, #8B0000, #FFD700);
  border-radius: 50%;
  border: 2px solid white;
}</code></pre>
            </div>
        </div>
    </div>

    <div class="divider"></div>

    <div class="collapsible open full-width">
        <div class="collapsible-header">
            <span>‚úÖ Testing Checklist</span>
            <span class="arrow">‚ñ∂</span>
        </div>
        <div class="collapsible-content">
            <h3>InlineChatWindow Tests</h3>
            <table>
                <thead>
                    <tr>
                        <th>Test</th>
                        <th>Action</th>
                        <th>Expected Result</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Open window</td>
                        <td>Press Ctrl+Shift+C on any page</td>
                        <td>Window appears and is draggable</td>
                    </tr>
                    <tr>
                        <td>Drag</td>
                        <td>Click and drag header</td>
                        <td>Window moves smoothly</td>
                    </tr>
                    <tr>
                        <td>Resize right</td>
                        <td>Drag right edge</td>
                        <td>Width changes, handle visible</td>
                    </tr>
                    <tr>
                        <td>Resize bottom</td>
                        <td>Drag bottom edge</td>
                        <td>Height changes, handle visible</td>
                    </tr>
                    <tr>
                        <td>Resize corner</td>
                        <td>Drag bottom-right corner</td>
                        <td>Both dimensions change</td>
                    </tr>
                    <tr>
                        <td>Min size</td>
                        <td>Try to resize smaller than 300√ó200</td>
                        <td>Stops at minimum</td>
                    </tr>
                    <tr>
                        <td>Collapse</td>
                        <td>Click collapse button (‚ñ≤)</td>
                        <td>Window collapses, resize disabled</td>
                    </tr>
                </tbody>
            </table>

            <h3>FloatingWindow Tests</h3>
            <table>
                <thead>
                    <tr>
                        <th>Test</th>
                        <th>Action</th>
                        <th>Expected Result</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Open window</td>
                        <td>Click chat button on card</td>
                        <td>Window appears on canvas</td>
                    </tr>
                    <tr>
                        <td>Drag</td>
                        <td>Click and drag header</td>
                        <td>Window moves, position persists</td>
                    </tr>
                    <tr>
                        <td>Resize handles visible</td>
                        <td>Hover over edges</td>
                        <td>Resize handles appear</td>
                    </tr>
                    <tr>
                        <td>Resize</td>
                        <td>Drag any edge/corner</td>
                        <td>Window resizes smoothly</td>
                    </tr>
                    <tr>
                        <td>Persistence</td>
                        <td>Resize, close, reopen</td>
                        <td>Size persists</td>
                    </tr>
                    <tr>
                        <td>Multiple windows</td>
                        <td>Open 2+ windows</td>
                        <td>All draggable/resizable independently</td>
                    </tr>
                    <tr>
                        <td>Z-index</td>
                        <td>Click on background window</td>
                        <td>Brings to front</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="divider"></div>

    <div class="collapsible warning">
        <div class="collapsible-header">
            <span>‚ö†Ô∏è Potential Issues & Mitigations</span>
            <span class="arrow">‚ñ∂</span>
        </div>
        <div class="collapsible-content">
            <h3>Issue 1: Shadow DOM Style Isolation</h3>
            <p><strong>Problem:</strong> InlineChatWindow in Shadow DOM may not inherit react-rnd styles</p>
            <p><strong>Solution:</strong> Inject resize handle styles directly into Shadow DOM via emotion css</p>

            <h3>Issue 2: Window Goes Off-Screen</h3>
            <p><strong>Problem:</strong> <code>bounds="window"</code> may allow window to go off-screen</p>
            <p><strong>Solution:</strong> Add bounds checking or use <code>bounds={{ left: 0, top: 0, right: window.innerWidth, bottom: window.innerHeight }}</code></p>

            <h3>Issue 3: Performance with Many Windows</h3>
            <p><strong>Problem:</strong> Multiple FloatingWindows may slow down canvas</p>
            <p><strong>Solution:</strong> Already handled by windowManager - no additional work needed</p>

            <h3>Issue 4: Resize Handles Not Visible</h3>
            <p><strong>Problem:</strong> Default react-rnd handles are transparent</p>
            <p><strong>Solution:</strong> Explicitly style via resizeHandleStyles and CSS classes</p>
        </div>
    </div>

    <div class="divider"></div>

    <div class="important-always-visible">
        <h2>üéØ Implementation Summary</h2>

        <div class="two-column-layout">
            <div>
                <h3>Priority Changes</h3>
                <ol class="dense-list">
                    <li><strong>Fix bounds:</strong> <code>bounds="parent"</code> ‚Üí <code>bounds="window"</code></li>
                    <li><strong>Add position state:</strong> Controlled position for InlineChatWindow</li>
                    <li><strong>Fix enableResizing:</strong> Return object instead of false</li>
                    <li><strong>Style resize handles:</strong> Make them visible</li>
                </ol>
            </div>

            <div>
                <h3>Estimated Effort</h3>
                <div class="metric important">Time: 30-45 minutes</div>
                <div class="metric important">Risk: LOW</div>
                <div class="metric important">Files: 2 (both window components)</div>

                <h4 style="margin-top: 12px;">Quick Wins</h4>
                <ul class="dense-list">
                    <li>Changing bounds prop is 1 line each</li>
                    <li>Styling handles is CSS only</li>
                    <li>Most code structure already correct</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        function toggleCollapsible(header) {
            const collapsible = header.parentElement;
            collapsible.classList.toggle('open');
        }

        function expandAll() {
            document.querySelectorAll('.collapsible').forEach(el => {
                el.classList.add('open');
            });
        }

        function collapseAll() {
            document.querySelectorAll('.collapsible').forEach(el => {
                el.classList.remove('open');
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.collapsible-header').forEach(header => {
                header.addEventListener('click', () => toggleCollapsible(header));
            });
        });
    </script>
</body>
</html>