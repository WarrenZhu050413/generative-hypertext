<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>General Usage of the HTML &lt;slot&gt; Element</title>
<style>
:root {
    --chinese-red: #8B0000;
    --chinese-gold: #FFD700;
    --paper-beige: #F5F5DC;
    --light-cream: #FFFEF0;
    --ink-black: #1a1a1a;
    --level-1: #8B0000;
    --level-2: #B71C1C;
    --level-3: #555555;
    --level-4: #777777;
    --critical: #C62828;
    --important: #AD8A00;
}
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    background: linear-gradient(135deg, var(--paper-beige) 0%, var(--light-cream) 100%);
    color: var(--ink-black);
    margin: 0;
    padding: 0;
    width: 100vw;
    max-width: 100%;
    line-height: 1.2;
    font-size: 14px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
}
.container { width: 100%; padding: 0; margin: 0; }
h1 { font-size: 24px; font-weight: 900; margin: 4px 0; padding: 6px 4px; background: linear-gradient(135deg, var(--chinese-red), #CD5C5C); -webkit-background-clip: text; -webkit-text-fill-color: transparent; letter-spacing: -0.5px; }
h2 { font-size: 18px; font-weight: 700; margin: 8px 0 4px 0; padding: 4px; border-left: 4px solid var(--chinese-red); background: rgba(139,0,0,0.03); color: var(--level-1); }
h3 { font-size: 14px; font-weight: 600; margin: 4px 0 2px 8px; color: var(--level-2); text-transform: uppercase; letter-spacing: 0.5px; }
h4 { font-size: 12px; font-weight: 500; margin: 2px 0 1px 16px; color: var(--level-3); }
button { background: linear-gradient(135deg, rgba(139,0,0,0.8), rgba(205,92,92,0.9)); border: none; color: white; padding: 4px 10px; font-size: 11px; font-weight: 600; border-radius: 4px; cursor: pointer; margin-left: 6px; }
button:hover { opacity: 0.9; }
.important-always-visible { background: linear-gradient(135deg, rgba(255,215,0,0.18), rgba(255,255,255,0.6)); border: 2px solid var(--chinese-gold); padding: 10px 12px; }
.important-always-visible ul { list-style: none; margin: 6px 0; }
.important-always-visible li { padding: 2px 0; display: flex; gap: 6px; }
.badge { font-weight: 700; padding: 1px 6px; border-radius: 4px; font-size: 11px; color: white; background: var(--critical); align-self: flex-start; }
.badge.important { background: var(--important); color: #1a1a1a; }
.two-column-layout { display: grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: 8px; width: 100%; }
.two-column-layout .full-width { grid-column: 1 / span 2; }
.collapsible { border: 1px solid rgba(139,0,0,0.15); background: rgba(255,255,255,0.94); }
.collapsible-header { padding: 6px 10px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; background: linear-gradient(135deg, rgba(139,0,0,0.08), rgba(255,215,0,0.05)); }
.collapsible-header span.arrow { font-size: 10px; color: var(--chinese-red); transition: transform 0.3s ease; }
.collapsible.open .collapsible-header span.arrow { transform: rotate(90deg); }
.collapsible-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease; padding: 0 10px; }
.collapsible.open .collapsible-content { max-height: 2200px; padding: 10px; }
.dense-list { list-style: none; padding-left: 14px; }
.dense-list li { position: relative; padding-left: 10px; margin: 2px 0; }
.dense-list li::before { content: "‚ñ∏"; position: absolute; left: 0; color: var(--chinese-red); font-size: 10px; top: 2px; }
.code-block { background: rgba(26,26,26,0.9); color: #f5f5f5; font-family: 'SF Mono','Menlo','Consolas',monospace; font-size: 12px; line-height: 1.25; padding: 8px 10px; border-radius: 4px; margin-top: 6px; overflow-x: auto; }
.table-like { display: grid; grid-template-columns: 140px 1fr; gap: 4px 6px; margin-top: 6px; }
.table-like div.label { font-weight: 600; color: var(--level-2); }
</style>
</head>
<body>
<div class="container">
    <div style="display:flex; justify-content:flex-end; padding:6px 8px;">
        <button id="expand-all">Expand All</button>
        <button id="collapse-all">Collapse All</button>
    </div>
    <h1>General Usage of the HTML &lt;slot&gt; Element</h1>
    <div class="important-always-visible">
        <h2>üéØ Slot Fundamentals</h2>
        <ul>
            <li><span class="badge">Projection</span><span>`<slot>` marks where a host element‚Äôs light-DOM children appear inside a shadow tree.</span></li>
            <li><span class="badge important">Named vs Default</span><span>Assign `slot="name"` on light-DOM nodes to project them into `<slot name="name">`; no attribute = default slot.</span></li>
            <li><span class="badge">Styling</span><span>Use `::slotted()` selectors inside the shadow root to style projected nodes while keeping encapsulation.</span></li>
        </ul>
    </div>
    <div class="two-column-layout">
        <div class="collapsible" data-collapsible="open">
            <div class="collapsible-header">
                <span>üß± Basic Pattern</span>
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="collapsible-content">
                <div class="code-block">
// Light DOM (host markup)
<popup-card>
  <span slot="title">Gradient Descent</span>
  <p>Iterative optimization algorithm.</p>
</popup-card>

// Shadow DOM template
<template id="popup-card-tmpl">
  <style>
    ::slotted(span[slot="title"]) { font-weight: 600; }
  </style>
  <header><slot name="title"></slot></header>
  <section><slot></slot></section>
</template>
                </div>
                <ul class="dense-list">
                    <li>Title span projects into the named slot.</li>
                    <li>Paragraph falls back to the default slot.</li>
                    <li>Fallback content inside `<slot>` renders when no matching light-DOM child exists.</li>
                </ul>
            </div>
        </div>
        <div class="collapsible" data-collapsible="open">
            <div class="collapsible-header">
                <span>üß≠ Slot Mapping Rules</span>
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="collapsible-content">
                <div class="table-like">
                    <div class="label">Default slot</div><div>First `<slot>` without a `name`; gathers all children lacking `slot="‚Ä¶"`.</div>
                    <div class="label">Named slot</div><div>`<slot name="details">` receives nodes whose `slot` attribute equals "details".</div>
                    <div class="label">Unmatched nodes</div><div>Project into default slot if present; otherwise not rendered until a matching slot appears.</div>
                    <div class="label">Dynamic changes</div><div>Updating host children or their `slot` attribute re-projects immediately; use the `slotchange` event to react.</div>
                </div>
            </div>
        </div>
        <div class="collapsible full-width" data-collapsible="open">
            <div class="collapsible-header">
                <span>üé® Styling with ::slotted()</span>
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="collapsible-content">
                <div class="code-block">
shadow.innerHTML = `
  <style>
    ::slotted(span.key-term) {
      background: linear-gradient(90deg, #ffe066, #ffd54f);
      padding: 0 2px;
      border-radius: 2px;
    }
  </style>
  <slot></slot>
`;
// Host: <span class="key-term">gradient descent</span>
                </div>
                <ul class="dense-list">
                    <li>Selector matches nodes assigned to the slot; it cannot target their descendants (wrap them or use additional slots).</li>
                    <li>Encapsulation preserved: page CSS still cannot reach into the shadow tree.</li>
                </ul>
            </div>
        </div>
        <div class="collapsible full-width" data-collapsible="open">
            <div class="collapsible-header">
                <span>üõ†Ô∏è Common Slot Patterns</span>
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="collapsible-content">
                <ul class="dense-list">
                    <li><strong>Slot Everywhere:</strong> Surround projected text with links, buttons, badges inside the shadow root (e.g., `<a><slot></slot></a>`).</li>
                    <li><strong>Multiple Slots:</strong> Expose different insertion points (title, description, footer) for flexible composition.</li>
                    <li><strong>Fallback:</strong> Provide default markup inside `<slot>` so the component renders gracefully without host children.</li>
                    <li><strong>Reactive:</strong> Listen to `slotchange` when projected content matters (e.g., updating tooltip size).</li>
                </ul>
            </div>
        </div>
        <div class="collapsible full-width" data-collapsible="closed">
            <div class="collapsible-header">
                <span>üîç Applying to Highlights</span>
                <span class="arrow">‚ñ∂</span>
            </div>
            <div class="collapsible-content">
                <ul class="dense-list">
                    <li>Wrap text in a host element (`<span class="nw-highlight-host">`‚Ä¶) when capturing a selection.</li>
                    <li>Inside the shadow tree, use `<slot>` to re-display the original text while layering highlight styles or optional controls.</li>
                    <li>Because the text remains in light DOM, copy/paste and accessibility tooling still work.</li>
                </ul>
            </div>
        </div>
    </div>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('[data-collapsible]').forEach(function(section) {
        const isOpen = section.getAttribute('data-collapsible') === 'open';
        section.classList.add('collapsible');
        if (isOpen) section.classList.add('open');
    });
    document.querySelectorAll('.collapsible-header').forEach(function(header) {
        header.addEventListener('click', function() {
            const collapsible = this.closest('.collapsible');
            collapsible.classList.toggle('open');
        });
    });
    const expandAllBtn = document.getElementById('expand-all');
    const collapseAllBtn = document.getElementById('collapse-all');
    if (expandAllBtn) {
        expandAllBtn.addEventListener('click', function() {
            document.querySelectorAll('.collapsible').forEach(function(c) {
                c.classList.add('open');
            });
        });
    }
    if (collapseAllBtn) {
        collapseAllBtn.addEventListener('click', function() {
            document.querySelectorAll('.collapsible').forEach(function(c) {
                c.classList.remove('open');
            });
        });
    }
});
</script>
</body>
</html>
